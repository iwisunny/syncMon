======================
py-ubx 安装部署文档
======================

【作者】汪曦  iwisunny@gmail.com


【前言】
py-ubx是unibox分布式系统的客户端程序，开发目的是作为unibox租赁程序的服务支持层。
提供租赁机终端数据同步，租赁机监控，为监控系统web端提供数据支持，终端自动升级等。

py-ubx的架构是创建一个称为 UniboxSvc 的windows系统服务
UniboxSvc管辖sync进程(处理同步作业) 和 monitor进程(处理监控作业)。


【申明】
为了保证出厂机器的部署规范性，以便后期维护的方便，特编写此文档，请部署人员务必在
部署新机器前认真阅读此文档，严格参照执行，如果参照执行，程序出了问题，那是开发人员的
职责，如果不参照此文档，随意部署程序，后果由部署人员负责，特此申明。


【部署说明】
1.py-ubx程序统一安装在 C:\py-ubx目录下，请严格遵守此目录，不要随意创建目录或者随意更改目录名。

【手动安装】
从http://pub.unibox.com.cn下载最新版本的zip包, 最新版本号依据 http://pub.unibox.com.cn/update.txt
将下载的 py-ubx-vx.x.x.zip 解压到C盘根目录，重命名目录为py-ubx，目录结构（核心文件和目录）如下:
c:\py-ubx
    |-apps
    |-lib
    |-migration
    |-cli.bat
    |-install.bat
    |-svc.py
    |-ubx.py
    |-unibox.ini

请进入c:\py-ubx目录，以管理员权限运行install.bat 程序会自动编译py-ubx的可执行文件，编译完成窗口自动关闭。

双击cli.bat, 输入 ubx status，如果提示[svc] running 则编译顺利通过，服务正在运行。
如果提示 [svc] stopped，表示服务已停止，请输入 ubx --log 查看错误日志。
记录具体报错信息，并告知开发者(wangxi@unibox.com.cn)


【自动安装】
从v1.2.5版本开始，py-ubx会自动升级，不需要人为干预。
前面的【手动安装】仅适用于已经外布的租赁机，且版本号低于v1.2.5。
